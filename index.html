<!DOCTYPE html>
<html>
<head>
  <title>Parcel Color Changer</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    #map { height: 400px; } /* Adjust as needed */
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    const map = L.map('map').setView([41.49, -81.68], 13); // Centered on Cleveland

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    const colors = ['#cccccc', '#FF4444', '#44FF44', '#4444FF', '#FF44FF']; // Your colors
    const parcelColors = new Map(); // Store color index for each parcel

    fetch('City_Landbank_2552617068183058004.geojson')
      .then(response => response.json())
      .then(data => {
        L.geoJSON(data, {
          onEachFeature: function (feature, layer) {
            const parcelId = feature.properties.PARCELPIN;
            parcelColors.set(parcelId, 0); // Initial color index

            layer.on('click', function(e) {
              let colorIndex = parcelColors.get(parcelId);
              colorIndex = (colorIndex + 1) % colors.length;
              parcelColors.set(parcelId, colorIndex);

              layer.setStyle({ fillColor: colors[colorIndex] });
              L.DomEvent.stopPropagation(e); // Prevent map click
            });
          }
        }).addTo(map);
      });
  </script>
</body>
</html>
